-- ✅ Add staff role to enum safely
ALTER TYPE user_role ADD VALUE IF NOT EXISTS 'staff';

-- ✅ Users table (only create if not exists)
CREATE TABLE IF NOT EXISTS users (
    user_id SERIAL PRIMARY KEY,
    username TEXT NOT NULL,
    user_email TEXT NOT NULL UNIQUE,
    user_firstname TEXT,
    user_lastname TEXT,
    user_avatar_url TEXT,
    user_password TEXT NOT NULL,
    role user_role NOT NULL DEFAULT 'user', 
    date_registered TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
